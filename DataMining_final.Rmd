---
title: "Pets, Kids, Politics: Instagram Practices of Democratic Presidental Candidates"
author: "Isabelle Langrock"
date: "April 2021 "
output:
  html_document:
    code_folding: show
    highlight: haddock
    theme: lumen
    toc: yes
    toc_depth: 4
    toc_float: yes
  pdf_document:
    toc: yes
    toc_depth: '4'
urlcolor: blue
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, fig.width = 7, fig.height = 5)
if(!require("pacman")) install.packages("pacman")
pacman::p_load(dplyr, ggplot2, glmnet, car, data.table, tidyverse, kableExtra, ggridges, scales, zoo)  

# load data 
all_posts<-read.csv("Data/all_post_data_full.csv")
all_data<- read.csv("Data/posts_scores_conf60.csv")
all_data <- all_data %>%
  select(-X)
```

# Summary 

How do women present themselves when they campaign for the highest office in the United States, where their success would be a landmark victory for gender equality? In the 2019-20 Democratic campaigns more women ran for President than ever before, providing an unprecedented opportunity to understand how women candidates present themselves to the American electorate. In particular we look at how both men and women candidates balance the politicking and personalizing demands of a presidential campaign through analysis of the images they post on their Instagram accounts (N=11,815) and measure public response through post engagement. We find:


# Introduction 

The rise of social media has opened up new ways for presidential candidates to connect with the electorate, leading to new expectations for campaigns. Personalization, where one’s personality and personal life are made visible to the public through tweets, posts, and pictures has become particularly important to modern politics. Yet expectations of personalization often impact women more, as women candidates must already navigate a double bind that demands they perform as competent politicians in a field long dominated by men and simultaneously fulfill traditionally feminine gender roles (Fiske, Xu, Cuddy, & Glick, 1999; Zulli, 2019). Given this particular balancing act and set of competing tensions, how do women present themselves when they campaign for the highest office in the United States, where their success would be a landmark victory for gender equality? In the 2019-20 Democratic campaigns more women ran for President than ever before, providing an unprecedented opportunity to understand how women presidential candidates present themselves to the American electorate. 

This project investigates the self-personalization practices candidates through analysis of all the candidates Instagram feeds in 2019. We used a proprietary machine vision service to identify objects in each image, which were then manually coded as either political or personal. The analysis presented here uses the full set of labels and images to build a model that predicts gender and one that predicts an engagement score. These are validated on  withheld section of our original data, although we believe this work would be useful to test against other campaigns, for generalization purposes. 

Focus on the objects displayed, rather than assigning the overall image to a single category, both reduces the time and cost of visual coding and allows us to capture the ways that many posts mix politics and personal features: depicting a hug with supporters at a rally or showing a candidate presumably doing work on their phone while in their living room. Using these scores, generated for each post, we then identify gendered trends in self-presentation strategies, specifically looking at the levels of political posts between men and women’s accounts, and identifying objects that are more likely to appear in posts from candidates of a specific gender. We will also identify trends across time, checking for specific patterns among the candidates, moments of convergence where all candidates engage in similar behavior, or moments where the genders diverge. 


# Data and Analytical Plan 

## Data Collection Process 

The Instagram accounts were scraped for all photo (not video) posts in  early 2020. We subsequently used a proprietary machine vision service (Amazon Rekognition) to identify objects in each image, filtered to retain only those images that had a 60% confidence rate. The full process of data collection is not described here, but details can be provided upon request. The data used for this project comes from data files that are the output of the Instagram API calls, Amazon Rekognition returns, and manually coding process. These are described briefly in the appendix. 

## Description of Data (EDA)

```{r Post and candidate counts}
# number of candidates and number of posts by gender 
post_count_by_gender<- all_data %>%
  group_by(Gender)%>%
  summarise(candidates=n_distinct(username), 
            photo_count=n_distinct(finalurl),
            average_pics= photo_count/candidates,
            ave_pol_score=mean(Score))

post_count_by_gender
kable(post_count_by_gender, caption= "Table 1. Number of posts and candidates, by gender", "html") %>%
  kable_styling(bootstrap_options = c("striped", "hover"))
            
```

```{r Likes & comments}
comm_like<- all_data%>%
  pivot_longer(cols=c("commentcount", "likecount"), names_to= "engagement_type", values_to="count")

comm_like$count<-as.numeric(comm_like$count)
comm_like$count<-comm_like$count+1
  
like_comment_fig<-ggplot(comm_like)+
  geom_density(aes(x=log(count), color=Gender, fill=engagement_type))+
  facet_grid(reorder(username, count)~., switch="y")+
  scale_color_manual(values=c("#ffb74d","#138d75"))+ # Women, then Men for color 
  scale_fill_manual(values=c("#b3e5fc", "#0d47a1"), labels=c("Comments", "Likes"))+
  scale_x_continuous(trans= "log10",
                     breaks = trans_breaks("log10", function(x) 10^x),
                     labels = trans_format("log10", math_format(10^.x)),
                     limits=c(10^.2, 10^1.2))+
  xlab("")+
  ylab("")+
  theme_minimal()+
  theme(strip.text.y.left=element_text(angle=0))

like_comment_fig
```



```{r Over Time}
month_means <- all_data%>%
  group_by(Gender, pubmonth, pubyear)%>%
  summarize(mean=mean(Score)) %>%
  unite(pubmonth, pubyear, pubmonth, sep="-")

month_means$pubmonth <-as.Date(as.yearmon(month_means$pubmonth))

month_plot_all<-ggplot(month_means, aes(x=pubmonth, y=mean, fill=Gender))+
  geom_bar(stat="identity", position=position_dodge())+
  geom_smooth()+
  scale_fill_manual(values=c("purple", "orange"))
month_plot_all
```
```{r Top Labels}

# Wordclouds or networks 
```

# Analysis 
##  Model #1: Predicting gender from image features 

## Model #2: Predicting likes from images features 

## Model #3: Analysis of Image features / potentially captions 

# Conclusions 

# References 

# Appendix 

## description of Data Files 



